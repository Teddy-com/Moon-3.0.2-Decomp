/*
 * Decompiled with CFR 0.152.
 */
package me.moon.module.impl.exploit;

import java.awt.Color;
import me.moon.event.Handler;
import me.moon.event.impl.player.UpdateEvent;
import me.moon.module.Module;
import me.moon.utils.value.impl.NumberValue;
import net.minecraft.item.ItemFood;
import net.minecraft.network.play.client.C03PacketPlayer;

public class FastUse
extends Module {
    private final NumberValue<Float> delay = new NumberValue<Float>("Speed", Float.valueOf(10.0f), Float.valueOf(1.0f), Float.valueOf(31.0f), Float.valueOf(1.0f));

    public FastUse() {
        super("FastUse", Module.Category.EXPLOITS, new Color(5090969).getRGB());
        this.setDescription("Eat Faster.");
    }

    @Override
    public void onEnable() {
    }

    @Handler(value=UpdateEvent.class)
    public void onUpdate(UpdateEvent event) {
        if (this.mc.thePlayer == null) {
            return;
        }
        if (event.isPre() && this.mc.thePlayer.isUsingItem() && this.mc.thePlayer.getCurrentEquippedItem().getItem() instanceof ItemFood && this.mc.thePlayer.onGround && (float)this.mc.thePlayer.getItemInUseDuration() == ((Float)this.delay.getValue()).floatValue()) {
            int power = this.mc.thePlayer.getItemInUse().getMaxItemUseDuration() - this.mc.thePlayer.getItemInUseDuration();
            for (int i = 0; i < power; ++i) {
                this.mc.thePlayer.sendQueue.addToSendQueue(new C03PacketPlayer.C04PacketPlayerPosition(this.mc.thePlayer.posX, this.mc.thePlayer.posY, this.mc.thePlayer.posZ, this.mc.thePlayer.onGround));
            }
        }
    }
}

